<!doctype html>
<html>
	<head>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="manifest" href="manifest.json">
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

		<title>Machine Learning at Belle II</title>

		<meta name="description" content="An overview of Machine Learning used by Belle II">
		<meta name="author" content="Thomas Keck">

		<link rel="stylesheet" href="../reveal.js/css/reveal.css">
		<link rel="stylesheet" href="../reveal.mod/css/theme/black.css">
		<link rel="stylesheet" href="../reveal.js/lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? '../reveal.js/css/print/pdf.css' : '../reveal.js/css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

    <style>
    .underground
    {
      background: rgba(22, 22, 22, .90);
    }
    </style>
	</head>
	<body>
		<div class="reveal">
			<div class="slides" style="height: 100%">
        <!-- Overview -->
        <section style="height: 100%">
				<section>
          <h1>Machine Learning at Belle II</h1>

					<p>
          Thomas Keck (<a href="mailto:thomas.keck2@kit.edu">thomas.keck2@kit.edu</a>)
					</p>
        </section>
				<section data-background-image="images/Karlsruhe.jpg" data-background-size="100%" style="height: 100%">
          <h2>KIT</h2>
          <p class="fragment" style="width: 100%; height: 70vmin">
            <img data-src="images/etp.png">
          </p>
        </section>
				<section data-background-image="images/Detector.jpg" data-background-size="100vmin" style="height: 100%">
          <div class="underground"><h2>Belle II</h2></div>
          <p class="fragment" style="width: 100%; height: 60vmin">
            <img data-src="images/event.png">
          </p>
        </section>
				<section style="height: 100%">
          <h2>Software</h2>
          <center>
          <div style="width: 100%; height: 60vmin">
          <img data-src="images/success_scheme.png">
          </div>
          </center>
          <br>
          <p class="fragment">
            <b>Workshop Tomorrow Afternoon!</b>
          </p>
        </section>
        <section style="height: 100%">
          <h2>Local Hardware Setup</h2>
          <div style="display: flex">
          <div style="width: 50%; height: 70vmin; float: left; align-items: center; display: flex">
            <img data-src="images/ekpmaschinenraum.jpg">
          </div>
          <div style="width: 50%; height: 70vmin; float: left;">
            <div style="height: 5%"> </div>
          <div style="height: 10%" class="fragment"> 
            <b>Intel Xeon Prozessor E5-2630 v4</b>
          </div>
          <br>
          <div style="height: 30%" class="fragment"> 
            <b>4 x GeForce GTX Titan X</b><br>
            <img data-src="images/hardware.jpg">
          </div>
          <br>
          <div style="height: 25%"> </div>
          <div style="height: 10%" class="fragment"> 
            <b>378 GB RAM</b>
          </div>
          </div>
          </div>
        </section>
        </section>

        <!-- Examples -->
        <section>
				<section data-background-image="images/event_background.png" data-background-size="40%">
					<h1>3 examples</h1>
          <h3>of machine learning applications in Belle II</h3>
					
				</section>
        <section data-background-image="images/cdc.jpg" data-background-size="80%">
          <div class="underground"><h2>Neuro Z Trigger</h2></div>
          <div class="fragment" style="width: 100%; height: 60vmin;">
           <img data-src="images/fpgaboard.png">
          </div>
          <div style="height: 5vh;"></div>
          <div class="fragment underground">
            <ul>
              <li>Virtex 6 vhx380 FPGA on Custom Board</li>
              <li>Identifies tracks originating in the interaction region</li>
              <li>280 nano-seconds per decision</li>
            </ul>
          </div>
        </section>
				<section data-background-image="images/event_background.png" data-background-size="50%">
          <h2>Full Event Interpretation</h2>

          <div style="display: flex; width: 100%;">
          <div class="fragment" style="float: left; width: 50%; height: 50vmin">
            <img data-src="images/fei.png">
          </div>
          <div class="fragment" style="float: right; width: 50%; height: 50vmin">
            <img data-src="images/fei_comparison.png">
          </div>
          </div>

        </section>
				<section data-background-image="images/cpviolation.png" data-background-size="100%">
          <h2>Deep Flavour Tagger</h2>
          <div class="fragment" style="width: 100%; height: 70vmin">
          <b>Traditional Approach</b>
          <br>
          <img data-src="images/flavortaggercategories.png">
          </div>
        </section>
				<section data-background-image="images/cpviolation.png" data-background-size="100%">
          <h2>Deep Flavour Tagger</h2>
          <div style="width: 100%; height: 70vmin">
          <b>Deep Learning Approach</b>
          <br>
          <img data-src="images/flavortaggerdeep.png">
          </div>
        </section>
				
        <section data-background-image="images/tsne/input.png" data-background-size="100vmin"></section>
        <section data-background-image="images/tsne/layer1.png" data-background-size="100vmin"></section>
        <section data-background-image="images/tsne/layer4.png" data-background-size="100vmin"></section>
        <section data-background-image="images/tsne/layer6.png" data-background-size="100vmin"></section>
        <section data-background-image="images/tsne/layer7.png" data-background-size="100vmin"></section>
        <section data-background-image="images/tsne/layer8.png" data-background-size="100vmin"></section>
        <section data-background-image="images/tsne/layer8_bbar.png" data-background-size="100vmin"></section>
        <section data-background-image="images/tsne/layer8_bbar_tag.png" data-background-size="100vmin"></section>
        </section>
        
        <!-- Technologies -->
        <section>
				<section>
          <h1>3 key <font color="red">technologies</font></h1>
					<p>required to use Deep Learning in physics</p>
        </section>
				<section>
          <h2>Data Driven Algorithms</h2>
					<p>How-to reduce the dependency on simulated events</p>
          
          <div style="display: flex; width: 100%;">
          <div class="fragment" style="float: left; width: 50%; height: 50vmin">
            <img data-src="images/MVABaseline.png">
          </div>
          <div class="fragment" style="float: left; width: 50%; height: 50vmin">
            <img data-src="images/MVAReweightedTotal.png">
          </div>
          </div>
					<div class="fragment">
					<ol>
					<li> Train classifier: recorded vs. simulated events </li>
					<li> Reweight simulated events: $ w = \frac{p}{1-p} $</li>
					<li> Train classifier: signal vs. background events </li>
					</ol>
					</div>
        </section>
				<section>
          <h2>Uniformity Constraints</h2>
					<p>How-to prevent the usage of certain information</p>
					
          <div style="display: flex; width: 100%;">
          <div class="fragment" style="float: left; width: 33%; height: 50vmin">
            <img data-src="images/dalitz_plot_vertical.png" width="80%">
          </div>
          <div class="fragment" style="float: left; width: 33%; height: 50vmin">
            <img data-src="images/tensorflow_baseline_dalitz_vertical.png" width="85%">
          </div>
          <div class="fragment" style="float: left; width: 33%; height: 50vmin">
            <img data-src="images/tensorflow_dalitz_vertical.png" width="85%">
          </div>
          </div>
					<p class="fragment">
					Adversarial Neural Network
					</p>
        </section>
        
        <section>
          <h2>H-parameter Optimization</h2>
					<p>How-to optimize the large amount of new h-parameters</p>
          <div style="width: 100%; height: 70vmin">
					<img data-src="images/nnparameters.png">
          </div>
        </section>
        <section>
          <h2>H-parameter Optimization</h2>
          <div style="display: flex; width: 100%;">
          <div class="fragment" style="float: left; width: 50%; height: 50vmin">
            <b>Traditional GridSearch</b>
            <br>
            <img data-src="images/gridsearch.png">
          </div>
          <div class="fragment" style="float: right; width: 50%; height: 50vmin">
            <b>Bayesian Optimization</b>
            <br>
            <img data-src="images/bayes.png">
          </div>
          </div>
        </section>
        </section>
        
				<section>
				<section>
          <h1>References</h1>
					<ul>
					<li><a href="https://publikationen.bibliothek.kit.edu/1000078149">PhD Thesis Thomas Keck</a></li>
					<li><a href="http://ekp-invenio.physik.uni-karlsruhe.de/record/48849">Master Thesis Jochen Gemmler</a></li>
					<li><a href="http://iopscience.iop.org/article/10.1088/1742-6596/368/1/012028">Advanced event reweighting using multivariate analysis (D. Martschei et al.)</a></li>
					<li><a href="https://arxiv.org/abs/1611.01046">Learning to Pivot (G. Louppe et al.)</a></li>
					<li><a href="https://arxiv.org/abs/1206.2944">Practical Bayesian Optimization of Machine Learning Algorithms (J. Snoek et al.)</a></li>
					</ul>
        </section>
				<section>
          <h2>Schedule Tomorrow</h2>

					<ul>
					<li>9:00	Introduction to machine learning</li>
					<li>10:30	Coffee</li>
					<li>11:00	Introduction to deep learning</li>
					<li>12:00	Lunch</li>
					<li>14:00	Hands-on workshop</li>
					</ul>
					
					<p><a href="http://www2.iap.fr/users/charnock/conferences/ML2018">Workshop Website</a></p>
        </section>
				</section>
        
			</div>
		</div>

		<script src="../reveal.js/lib/js/head.min.js"></script>
		<script src="../reveal.js/js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
        controlsTutorial: false,
        center: false,
        transition: 'fade',
        history: true,
        width: '80%',
        height: '100%',
				dependencies: [
					{ src: '../reveal.js/plugin/markdown/marked.js' },
					{ src: '../reveal.js/plugin/markdown/markdown.js' },
					{ src: '../reveal.js/plugin/notes/notes.js', async: true },
					{ src: '../reveal.js/plugin/math/math.js', async: true },
					{ src: '../reveal.js/plugin/highlight/highlight.js', async: false, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
